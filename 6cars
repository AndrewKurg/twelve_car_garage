#! /usr/bin/env python                  #понимает русский язык
# -*- coding: utf-8 -*-

import telebot
import pyowm
import forex_python.converter

token = '871805585:AAEgAuDU30QiwsAK0B0Aa0KSPdN8AylAsUY'

bot = telebot.TeleBot("871805585:AAEgAuDU30QiwsAK0B0Aa0KSPdN8AylAsUY")


@bot.message_handler(content_types=['text'])
def proverka(message):
    if message.text == "Hello":
        weather(message)
    else:
        bot.send_message(message.chat.id, "напиши привет")

def weather(message):
    city = bot.send_message(message.chat.id, "Where to show")
    bot.register_next_step_handler(city, wtf)




def wtf(message):
    owm = pyowm.OWM('9a5624fb9a6d6535203e750abacf0e32')
    cisy = message.text
    weather = owm.weather_at_place(cisy)
    w = weather.get_weather()
    temperature = w.get_temperature("celsius")["temp"]
    bot.send_message(message.chat.id, "weather" +  "in" + str(cisy) + str(temperature))

from forex_python.converter import CurrencyRates      #still a shit to fix



bot.polling()
